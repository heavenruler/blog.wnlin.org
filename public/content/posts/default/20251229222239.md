---
title: How to Installing Percona XtraDB Cluster from Binary Tarball ver 5.7
date: 2022-5-3
excerpt: |
  Short summary goes here.
draft: true
---

因為需要重建手冊的關係，版本又已經從 5.7.18 的時期長大到 5.7.35 了

懶得處理 yum / apt 套件管理更新，所以就直接從 Binary Tarball 處理了

以順序論，建議 Percona XtraBackup 2.4 -> Percona XtraDB Cluster 5.7

具體你會先得到原因知道為什麼上面順序需要這樣安排

Error: Package: Percona-XtraDB-Cluster-server-57-5.7.18-29.20.1.el7.x86_64 (/Percona-XtraDB-Cluster-server-57-5.7.18-29.20.1.el7.x86_64)
           Requires: percona-xtrabackup-24 >= 2.4.4
 You could try using --skip-broken to work around the problem
 You could try running: rpm -Va --nofiles --nodigest

所以從 here 把相關套件帶回來並安裝起來

# wget https://downloads.percona.com/downloads/Percona-XtraBackup-2.4/Percona-XtraBackup-2.4.4/binary/redhat/7/x86_64/Percona-XtraBackup-2.4.4-rdf58cf2-el7-x86_64-bundle.tar
# tar -xvf Percona-XtraBackup-2.4.4-rdf58cf2-el7-x86_64-bundle.tar
percona-xtrabackup-24-2.4.4-1.el7.x86_64.rpm
percona-xtrabackup-24-debuginfo-2.4.4-1.el7.x86_64.rpm
percona-xtrabackup-test-24-2.4.4-1.el7.x86_64.rpm

# yum install percona-xtrabackup-24-2.4.4-1.el7.x86_64.rpm

Installed:
  percona-xtrabackup-24.x86_64 0:2.4.4-1.el7

Dependency Installed:
  libev.x86_64 0:4.15-7.el7               mariadb-libs.x86_64 1:5.5.68-1.el7     perl-Compress-Raw-Bzip2.x86_64 0:2.061-3.el7     perl-Compress-Raw-Zlib.x86_64 1:2.061-4.el7
  perl-DBD-MySQL.x86_64 0:4.023-6.el7     perl-DBI.x86_64 0:1.627-4.el7          perl-IO-Compress.noarch 0:2.061-2.el7            perl-Net-Daemon.noarch 0:0.48-5.el7
  perl-PlRPC.noarch 0:0.2020-14.el7

Complete!

接著把 bundle 從官網帶回來，打開安裝起來便是

# wget https://downloads.percona.com/downloads/Percona-XtraDB-Cluster-57/Percona-XtraDB-Cluster-5.7.18-29.20/binary/redhat/7/x86_64/Percona-XtraDB-Cluster-5.7.18-29.20-r346-el7-x86_64-bundle.tar

# tar -xvf Percona-XtraDB-Cluster-5.7.18-29.20-r346-el7-x86_64-bundle.tar
Percona-XtraDB-Cluster-57-5.7.18-29.20.1.el7.x86_64.rpm
Percona-XtraDB-Cluster-57-debuginfo-5.7.18-29.20.1.el7.x86_64.rpm
Percona-XtraDB-Cluster-client-57-5.7.18-29.20.1.el7.x86_64.rpm
Percona-XtraDB-Cluster-devel-57-5.7.18-29.20.1.el7.x86_64.rpm
Percona-XtraDB-Cluster-full-57-5.7.18-29.20.1.el7.x86_64.rpm
Percona-XtraDB-Cluster-garbd-57-5.7.18-29.20.1.el7.x86_64.rpm
Percona-XtraDB-Cluster-server-57-5.7.18-29.20.1.el7.x86_64.rpm
Percona-XtraDB-Cluster-shared-57-5.7.18-29.20.1.el7.x86_64.rpm
Percona-XtraDB-Cluster-shared-compat-57-5.7.18-29.20.1.el7.x86_64.rpm
Percona-XtraDB-Cluster-test-57-5.7.18-29.20.1.el7.x86_64.rpm

# yum install *.rpm

接下來就是 database initial 的作業就先不贅述了

作業程序官網都有說了，我也覺得很有幫助就是了