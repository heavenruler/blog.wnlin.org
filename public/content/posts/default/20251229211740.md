---
title: 如何使用 bench.sh 更了解你的設備
date: 2025-12-29
excerpt: |
  在新建的 VPC 上用 bench.sh 一鍵抓 CPU、IO、網速等實測數據，快速掌握雲機規格與骨幹頻寬。
draft: true
---

延續我們剛剛建立的 VPC ; 我們需要再多一些設備資訊上的了解

例如這個有趣的 Github: bench-scripts

具體來說有哪些資訊好參考呢? 我們來準備些範例

只要可以連外的設備只要執行指令
```
$ wget -qO- bench.sh | bash
```

就可以得到下面資訊示意圖了
```
root@fv-az444-456:~# wget -qO- bench.sh | bash
-------------------- A Bench.sh Script By Teddysun -------------------
 Version            : v2022-06-01
 Usage              : wget -qO- bench.sh | bash
----------------------------------------------------------------------
 CPU Model          : Intel(R) Xeon(R) Platinum 8272CL CPU @ 2.60GHz
 CPU Cores          : 2 @ 2593.905 MHz
 CPU Cache          : 36608 KB
 AES-NI             : Enabled
 VM-x/AMD-V         : Disabled
 Total Disk         : 96.9 GB (57.1 GB Used)
 Total Mem          : 6.8 GB (649.1 MB Used)
 Total Swap         : 4.0 GB (0 Used)
 System uptime      : 0 days, 0 hour 18 min
 Load average       : 0.00, 0.02, 0.05
 OS                 : Ubuntu 22.04.2 LTS
 Arch               : x86_64 (64 Bit)
 Kernel             : 5.15.0-1037-azure
 TCP CC             : cubic
 Virtualization     : Hyper-V
 Organization       : AS8075 Microsoft Corporation
 Location           : Boydton / US
 Region             : Virginia
----------------------------------------------------------------------
 I/O Speed(1st run) : 203 MB/s
 I/O Speed(2nd run) : 202 MB/s
 I/O Speed(3rd run) : 202 MB/s
 I/O Speed(average) : 202.3 MB/s
----------------------------------------------------------------------
 Node Name        Upload Speed      Download Speed      Latency
 Speedtest.net    1423.55 Mbps      7765.46 Mbps        9.77 ms
 Los Angeles, US  1371.19 Mbps      7562.81 Mbps        61.78 ms
 Dallas, US       1425.68 Mbps      7985.29 Mbps        34.13 ms
 Montreal, CA     306.80 Mbps       305.41 Mbps         23.43 ms
 Paris, FR        1289.77 Mbps      6770.10 Mbps        83.94 ms
 Amsterdam, NL    938.54 Mbps       5735.30 Mbps        91.23 ms
 Shanghai, CN     153.89 Mbps       2439.34 Mbps        300.14 ms
 Nanjing, CN      69.53 Mbps        1931.12 Mbps        209.68 ms
 Guangzhou, CN    0.89 Mbps         487.31 Mbps         206.84 ms
 Hongkong, CN     551.95 Mbps       3867.24 Mbps        216.28 ms
 Singapore, SG    381.25 Mbps       74.03 Mbps          230.53 ms
 Tokyo, JP        483.98 Mbps       4942.85 Mbps        158.25 ms
----------------------------------------------------------------------
 Finished in        : 6 min 25 sec
 Timestamp          : 2023-05-18 17:09:01 UTC
----------------------------------------------------------------------
```

ubuntu-latest 解釋了當下建立的版本 Ubuntu 22.04.2 LTS

雖然 Virtualization: Hyper-V 但資源配置可能還是以 Container 形式共用硬體資源會比較合理些

CPU 諸元整體 26 cores ; 但配置到設備上就剩下兩個

```
root@fv-az444-456:~# cat /proc/cpuinfo | grep processor
processor	: 0
processor	: 1
```

比較亮眼的是網路的頻寬傳輸 ; 因為機房在 US ; 所以設備出門的骨幹頻寬也是讓我長了些見識
