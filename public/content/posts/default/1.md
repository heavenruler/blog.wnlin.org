---
title: Cloudflare Pages + Workers Markdown Demo123
date: 2025-12-30
excerpt: |
  # Cloudflare Pages + Workers Markdown Demo
  This repo shows a minimal Cloudflare Pages site that renders Markdown in the browser using `markdown-it`. The front end now fetches and renders this very README file on the demo page, leaving the Pages Function in `functions/api/latest-commit.js` available for manual API testing or future integration.
  ## Structure
  ```
  public/           # Static assets served by Pages
    └── index.html  # Markdown editor + GitHub commit UI
  functions/        # Pages Functions run on Cloudflare Workers
    └── api/latest-commit.js  # Endpoint fetching GitHub commits
  wrangler.toml     # Wrangler config to deploy both the Pages site and functions
  ```
---
# Cloudflare Pages + Workers Markdown Demo

This repo shows a minimal Cloudflare Pages site that renders Markdown in the browser using `markdown-it`. The front end now fetches and renders this very README file on the demo page, leaving the Pages Function in `functions/api/latest-commit.js` available for manual API testing or future integration.

## Structure

```
public/           # Static assets served by Pages
  └── index.html  # Markdown editor + GitHub commit UI
functions/        # Pages Functions run on Cloudflare Workers
  └── api/latest-commit.js  # Endpoint fetching GitHub commits
wrangler.toml     # Wrangler config to deploy both the Pages site and functions
```

## Running locally

1. Install Wrangler 3 via `npm install -g wrangler` if you haven't already.
2. From the repo root run:

```bash
wrangler pages dev public --local-protocol http --local-port 8787
```

This command hosts the Pages site, automatically wiring `functions/` so `/api/latest-commit` is handled by the function.

## Deploying

1. Create a Cloudflare Pages project in the dashboard, connect this GitHub repo, and set the build command to `npm run build` (if defined) or leave blank for static sites.
2. Set the Environment Variables on Pages for the GitHub token (optional but recommended for higher rate limits):

```
GITHUB_TOKEN=ghp_XXXXXXXXXXXXXXXXXXXX
```

3. Link `public/` as the deployment directory and enable Functions support by ensuring they are in `functions/`.
4. Optional: run `wrangler publish` against a Pages environment once `wrangler.toml` has your `account_id` and `project` settings filled out.

## API usage

The frontend posts to `/api/latest-commit?repo=owner/name`. Example:

```
fetch('/api/latest-commit?repo=cloudflare/cloudflare-docs')
  .then(res => res.json())
```

The response is JSON with `sha`, `message`, `author`, `date`, and `url` to the commit.

## Next steps

1. Add more Markdown-it plugins (tables, footnotes) in `public/index.html`.
2. Extend the function to cache responses in Durable Objects or KV.
3. Wire CI/CD to automatically deploy when the GitHub repo is updated.
