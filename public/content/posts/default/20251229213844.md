---
title: What happens when building galera cluster with different garbd version?
date: 2025-12-29
excerpt: |
  Short summary goes here.
draft: true
---

```
2022-03-30 18:55:38 0 [Note] /usr/sbin/mysqld: ready for connections.
 Version: '10.4.22-MariaDB-log' socket: '/data/mariadb/data/mysqld.sock' port: 3306 MariaDB Server
 2022-03-30 19:04:00 0 [Note] InnoDB: Buffer pool(s) load completed at 220330 19:04:00
 2022-03-30 19:56:02 42 [Warning] Aborted connection 42 to db: 'unconnected' user: 'root' host: 'localhost' (Got timeout reading communication packets)
 2022-03-30 21:10:40 0 [Note] WSREP: (edb31c61-92ba, 'tcp://0.0.0.0:4567') connection established to cc517348-8841 tcp://172.21.33.102:4567
 2022-03-30 21:10:40 0 [Note] WSREP: (edb31c61-92ba, 'tcp://0.0.0.0:4567') turning message relay requesting on, nonlive peers:
 2022-03-30 21:10:40 0 [Note] WSREP: EVS version downgrade 1 -> 0
 2022-03-30 21:10:40 0 [Note] WSREP: declaring cc517348-8841 at tcp://172.21.33.102:4567 stable
 2022-03-30 21:10:40 0 [Note] WSREP: PC protocol downgrade 1 -> 0
 2022-03-30 21:10:40 0 [Note] WSREP: Node edb31c61-92ba state prim
 2022-03-30 21:10:40 0 [Note] WSREP: view(view_id(PRIM,cc517348-8841,2) memb {
 cc517348-8841,0
 edb31c61-92ba,0
 } joined {
 } left {
 } partitioned {
 })
 2022-03-30 21:10:40 0 [Note] WSREP: save pc into disk
 2022-03-30 21:10:40 0 [Note] WSREP: New COMPONENT: primary = yes, bootstrap = no, my_idx = 1, memb_num = 2
 2022-03-30 21:10:40 0 [Note] WSREP: STATE EXCHANGE: Waiting for state UUID.
 2022-03-30 21:10:40 0 [Note] WSREP: STATE EXCHANGE: sent state msg: cc9e202d-b02a-11ec-ac6c-a66df95fc71e
 2022-03-30 21:10:40 0 [Note] WSREP: STATE EXCHANGE: got state msg: cc9e202d-b02a-11ec-ac6c-a66df95fc71e from 0 (garb)
 2022-03-30 21:10:40 0 [Note] WSREP: STATE EXCHANGE: got state msg: cc9e202d-b02a-11ec-ac6c-a66df95fc71e from 1 (mariadb-cluster-jbb-1-S)
 2022-03-30 21:10:40 0 [Note] WSREP: Quorum results:
 version = 4,
 component = PRIMARY,
 conf_id = 1,
 members = 1/2 (joined/total),
 act_id = 3332197,
 last_appl. = 3332092,
 protocols = 0/10/4 (gcs/repl/appl),
 vote policy= 1,
 group UUID = edb4e4ec-b017-11ec-b8ec-ee97dd4d6b03
 2022-03-30 21:10:40 0 [Note] WSREP: Flow-control interval: [23, 23]
 2022-03-30 21:10:40 2 [Note] WSREP: ####### processing CC 3332197, local, ordered
 2022-03-30 21:10:40 2 [Note] WSREP: ####### My UUID: edb31c61-b017-11ec-92ba-cbcaf8c1bfbe
 2022-03-30 21:10:40 0 [Note] WSREP: Member 0.0 (garb) requested state transfer from '*any*'. Selected 1.0 (mariadb-cluster-jbb-1-S)(SYNCED) as donor.
 2022-03-30 21:10:40 0 [Note] WSREP: Shifting SYNCED -> DONOR/DESYNCED (TO: 3332197)
 2022-03-30 21:10:40 0 [Note] WSREP: 0.0 (garb): State transfer from 1.0 (mariadb-cluster-jbb-1-S) complete.
 2022-03-30 21:10:40 0 [Note] WSREP: Member 0.0 (garb) synced with group.
 2022-03-30 21:10:40 2 [Note] WSREP: Skipping cert index reset
 2022-03-30 21:10:40 2 [Note] WSREP: REPL Protocols: 10 (5)
 2022-03-30 21:10:40 2 [Note] WSREP: ####### Adjusting cert position: 3332197 -> 3332197
 2022-03-30 21:10:40 0 [Note] WSREP: Service thread queue flushed.
 2022-03-30 21:10:40 0 [Note] WSREP: Message with protocol version 2 != highest commonly supported: 0.
 2022-03-30 21:10:40 0 [Note] WSREP: Resend message because of not commonly supported version.
 2022-03-30 21:10:40 2 [ERROR] WSREP: Failed to process action CONFIGURATION, g: 1, l: 3358365, ptr: 0x7efa86262748, size: 200: Attempt to reuse the same seqno: 3332197. New ptr = 0x7efa86262748, previous
 ptr = 0x7efa86262598 (FATAL)
 at gcache/src/GCache_seqno.cpp:seqno_assign():83
 2022-03-30 21:10:40 2 [Note] WSREP: Closing send monitor...
 2022-03-30 21:10:40 2 [Note] WSREP: Closed send monitor.
 2022-03-30 21:10:40 2 [Note] WSREP: gcomm: terminating thread
 2022-03-30 21:10:40 2 [Note] WSREP: gcomm: joining thread
 2022-03-30 21:10:40 2 [Note] WSREP: gcomm: closing backend
 2022-03-30 21:10:43 2 [Note] WSREP: (edb31c61-92ba, 'tcp://0.0.0.0:4567') turning message relay requesting off
 2022-03-30 21:10:44 2 [Note] WSREP: (edb31c61-92ba, 'tcp://0.0.0.0:4567') connection to peer cc517348-8841 with addr tcp://172.21.33.102:4567 timed out, no messages seen in PT3S, socket stats: rtt: 4882 r
 ttvar: 8149 rto: 205000 lost: 0 last_data_recv: 3362 cwnd: 10 last_queued_since: 362323849 last_delivered_since: 3362060275 send_queue_length: 0 send_queue_bytes: 0 segment: 0 messages: 0
 2022-03-30 21:10:44 2 [Note] WSREP: (edb31c61-92ba, 'tcp://0.0.0.0:4567') turning message relay requesting on, nonlive peers: tcp://172.21.33.102:4567
 2022-03-30 21:10:45 2 [Note] WSREP: (edb31c61-92ba, 'tcp://0.0.0.0:4567') reconnecting to cc517348-8841 (tcp://172.21.33.102:4567), attempt 0
 2022-03-30 21:10:46 2 [Note] WSREP: evs::proto(edb31c61-92ba, LEAVING, view_id(REG,cc517348-8841,2)) suspecting node: cc517348-8841
 2022-03-30 21:10:46 2 [Note] WSREP: evs::proto(edb31c61-92ba, LEAVING, view_id(REG,cc517348-8841,2)) suspecting node: cc517348-8841
 2022-03-30 21:10:47 2 [Note] WSREP: evs::proto(edb31c61-92ba, LEAVING, view_id(REG,cc517348-8841,2)) suspecting node: cc517348-8841
 2022-03-30 21:10:47 2 [Note] WSREP: evs::proto(edb31c61-92ba, LEAVING, view_id(REG,cc517348-8841,2)) suspecting node: cc517348-8841
 2022-03-30 21:10:48 2 [Note] WSREP: evs::proto(edb31c61-92ba, LEAVING, view_id(REG,cc517348-8841,2)) suspecting node: cc517348-8841
 2022-03-30 21:10:48 2 [Note] WSREP: evs::proto(edb31c61-92ba, LEAVING, view_id(REG,cc517348-8841,2)) suspecting node: cc517348-8841
 2022-03-30 21:10:49 2 [Note] WSREP: (edb31c61-92ba, 'tcp://0.0.0.0:4567') connection to peer cc517348-8841 with addr tcp://172.21.33.102:4567 timed out, no messages seen in PT3S, socket stats: rtt: 207 rt
 tvar: 104 rto: 201000 lost: 0 last_data_recv: 3498 cwnd: 10 last_queued_since: 3498417050 last_delivered_since: 3498424072 send_queue_length: 0 send_queue_bytes: 0 segment: 0 messages: 0
 2022-03-30 21:10:49 2 [Note] WSREP: evs::proto(edb31c61-92ba, LEAVING, view_id(REG,cc517348-8841,2)) suspecting node: cc517348-8841
 2022-03-30 21:10:49 2 [Note] WSREP: evs::proto(edb31c61-92ba, LEAVING, view_id(REG,cc517348-8841,2)) suspecting node: cc517348-8841
 2022-03-30 21:10:50 2 [Note] WSREP: evs::proto(edb31c61-92ba, LEAVING, view_id(REG,cc517348-8841,2)) suspecting node: cc517348-8841
 2022-03-30 21:10:50 2 [Note] WSREP: (edb31c61-92ba, 'tcp://0.0.0.0:4567') connection established to cc517348-8841 tcp://172.21.33.102:4567
 2022-03-30 21:10:50 2 [Note] WSREP: evs::proto(edb31c61-92ba, LEAVING, view_id(REG,cc517348-8841,2)) suspecting node: cc517348-8841
 2022-03-30 21:10:51 2 [Note] WSREP: evs::proto(edb31c61-92ba, LEAVING, view_id(REG,cc517348-8841,2)) suspecting node: cc517348-8841
 2022-03-30 21:10:51 2 [Note] WSREP: evs::proto(edb31c61-92ba, LEAVING, view_id(REG,cc517348-8841,2)) suspecting node: cc517348-8841
 2022-03-30 21:10:52 2 [Note] WSREP: evs::proto(edb31c61-92ba, LEAVING, view_id(REG,cc517348-8841,2)) suspecting node: cc517348-8841
 2022-03-30 21:10:52 2 [Note] WSREP: evs::proto(edb31c61-92ba, LEAVING, view_id(REG,cc517348-8841,2)) suspecting node: cc517348-8841
 2022-03-30 21:10:53 2 [Note] WSREP: evs::proto(edb31c61-92ba, LEAVING, view_id(REG,cc517348-8841,2)) suspecting node: cc517348-8841
 2022-03-30 21:10:53 2 [Note] WSREP: evs::proto(edb31c61-92ba, LEAVING, view_id(REG,cc517348-8841,2)) suspecting node: cc517348-8841
 2022-03-30 21:10:54 2 [Note] WSREP: (edb31c61-92ba, 'tcp://0.0.0.0:4567') turning message relay requesting off
 2022-03-30 21:10:54 2 [Note] WSREP: evs::proto(edb31c61-92ba, LEAVING, view_id(REG,cc517348-8841,2)) suspecting node: cc517348-8841
 2022-03-30 21:10:54 2 [Note] WSREP: evs::proto(edb31c61-92ba, LEAVING, view_id(REG,cc517348-8841,2)) suspecting node: cc517348-8841
 2022-03-30 21:10:55 2 [Note] WSREP: evs::proto(edb31c61-92ba, LEAVING, view_id(REG,cc517348-8841,2)) suspecting node: cc517348-8841
 2022-03-30 21:10:55 2 [Note] WSREP: evs::proto(edb31c61-92ba, LEAVING, view_id(REG,cc517348-8841,2)) detected inactive node: cc517348-8841
 2022-03-30 21:10:55 2 [Note] WSREP: view(view_id(NON_PRIM,cc517348-8841,2) memb {
 edb31c61-92ba,0
 } joined {
 } left {
 } partitioned {
 cc517348-8841,0
 })
 2022-03-30 21:10:55 2 [Note] WSREP: view((empty))
 2022-03-30 21:10:55 2 [Note] WSREP: gcomm: closed
 2022-03-30 21:10:55 1258 [Warning] Aborted connection 1258 to db: 'unconnected' user: 'pmm' host: 'localhost' (Got an error writing communication packets)
 2022-03-30 21:10:55 1264 [Warning] Aborted connection 1264 to db: 'unconnected' user: 'pmm' host: 'localhost' (Got an error writing communication packets)
 2022-03-30 21:10:55 1268 [Warning] Aborted connection 1268 to db: 'unconnected' user: 'pmm' host: 'localhost' (Got an error writing communication packets)
 2022-03-30 21:10:55 0 [Note] WSREP: New COMPONENT: primary = no, bootstrap = no, my_idx = 0, memb_num = 1
 2022-03-30 21:10:55 0 [Note] WSREP: Flow-control interval: [16, 16]
 2022-03-30 21:10:55 0 [Note] WSREP: Received NON-PRIMARY.
 2022-03-30 21:10:55 0 [Note] WSREP: Shifting DONOR/DESYNCED -> OPEN (TO: 3332198)
 2022-03-30 21:10:55 0 [Note] WSREP: New SELF-LEAVE.
 2022-03-30 21:10:55 0 [Note] WSREP: Flow-control interval: [0, 0]
 2022-03-30 21:10:55 0 [Note] WSREP: Received SELF-LEAVE. Closing connection.
 2022-03-30 21:10:55 0 [Note] WSREP: Shifting OPEN -> CLOSED (TO: 3332198)
 2022-03-30 21:10:55 0 [Note] WSREP: RECV thread exiting 0: Success
 2022-03-30 21:10:55 2 [Note] WSREP: recv_thread() joined.
 2022-03-30 21:10:55 2 [Note] WSREP: Closing replication queue.
 2022-03-30 21:10:55 2 [Note] WSREP: Closing slave action queue.
 2022-03-30 21:10:55 2 [Note] WSREP: ================================================
 View:
 id: 00000000-0000-0000-0000-000000000000:-1
 status: non-primary
 protocol_version: -1
 capabilities:
 final: yes
 own_index: -1
 members(0):
 =================================================
 2022-03-30 21:10:55 2 [Note] WSREP: Non-primary view
 2022-03-30 21:10:55 2 [Note] WSREP: Server status change synced -> disconnected
 2022-03-30 21:10:55 2 [Note] WSREP: wsrep_notify_cmd is not defined, skipping notification.
 2022-03-30 21:10:55 2 [Note] WSREP: wsrep_notify_cmd is not defined, skipping notification.
 2022-03-30 21:10:55 1263 [Warning] Aborted connection 1263 to db: 'unconnected' user: 'pmm' host: 'localhost' (Got an error writing communication packets)
 2022-03-30 21:10:55 0 [Note] WSREP: Service thread queue flushed.
 2022-03-30 21:10:55 2 [Note] WSREP: ####### Assign initial position for certification: 00000000-0000-0000-0000-000000000000:-1, protocol version: 5
 2022-03-30 21:10:55 2 [Note] WSREP: Applier thread exiting ret: 8 thd: 2
 2022-03-30 21:10:55 2 [Warning] Aborted connection 2 to db: 'unconnected' user: 'unauthenticated' host: '' (This connection closed normally without authentication)
 2022-03-30 21:11:25 0 [Note] /usr/sbin/mysqld (initiated by: unknown): Normal shutdown
 2022-03-30 21:11:25 0 [Note] WSREP: Shutdown replication
 2022-03-30 21:11:26 1 [Note] WSREP: rollbacker thread exiting 1
 2022-03-30 21:11:26 1 [Warning] Aborted connection 1 to db: 'unconnected' user: 'unauthenticated' host: '' (This connection closed normally without authentication)
 2022-03-30 21:11:26 0 [Note] Event Scheduler: Purging the queue. 0 events
 2022-03-30 21:11:26 0 [Note] InnoDB: FTS optimize thread exiting.
 2022-03-30 21:11:46 0 [Warning] /usr/sbin/mysqld: Thread 22 (user : 'm027001_f0049_ai') did not exit
```